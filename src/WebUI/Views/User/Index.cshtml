@{

}





<p>
    <a style="width: 80px;" type="button" href="@Url.Action("GetUpsert", "User", new {id = 0})" class="btn btn-success">Add</a>

</p>
<table id="demoGrid" class="table table-striped table-bordered dt-responsive nowrap" width="100%" cellspacing="0">
    <thead>
        <tr>
            <th>
                Id
            </th>
            <th>
                CreatedBy
            </th>
            <th>
                Created
            </th>
            <th>
                LastModifiedBy
            </th>
            <th>
                LastModified
            </th>
            <th>
                UserName
            </th>
            <th>
                FullName
            </th>
            <th>
                Email
            </th>
            <th>
                IsEnabled
            </th>
        </tr>
    </thead>
</table>

@*
<a type="button" data-bs-toggle="modal" data-bs-target=".bs-example-modal-lg" onclick="drawPatrialView('/User/Details/'+'@item.Id', 'lgModalBody')">Detail</a>
<a type="button" class="px-3 text-danger" data-bs-toggle="modal" data-bs-target=".bs-example-modal-xl" onclick="drawPatrialView('/User/Details/'+@item.Id, 'xlModalBody')">Delete</a> *@
<div id="actions" style="display:none;">
    <a style="width: 80px;" class="btn btn-primary" id="editLink">Edit</a> |
    <a style="width: 80px;" class="btn btn-secondary" id="detailsLink">Details</a> |
    <a style="width: 80px;" class="btn btn-danger" id="deleteLink">Delete</a>
</div>

@section scripts {
    <script>
        function updateButtonLinks(id) {
            $('#editLink').attr('href', '/User/GetUpsert?id=' + id);
            $('#detailsLink').attr('href', '/User/Details?id=' + id);
            $('#deleteLink').attr('href', '/User/Delete?id=' + id);
        }

        $(document).ready(function () {
            var table = $('#demoGrid').DataTable({
                "processing": true,
                "serverSide": true,
                "filter": true,
                "orderMulti": false,
                ajax: {
                    "url": "/User/LoadData",
                    type: "POST",
                    data: "json"
                },
                columns: [
                    { data: "id", title: "Id", name: "id", visible: false },
                    { data: 'createdBy', title: "createdBy", name: "createdBy" },
                    { data: 'created', title: "created", name: "created" },
                    { data: 'lastModifiedBy', title: "lastModifiedBy", name: "lastModifiedBy" },
                    { data: 'lastModified', title: "lastModified", name: "lastModified" },
                    { data: 'userName', title: "userName", name: "userName" },
                    { data: 'fullName', title: "fullName", name: "fullName" },
                    { data: 'email', title: "email", name: "email" },
                    { data: 'isEnabled', title: "isEnabled", name: "isEnabled" }
                ]
            });

            $('#demoGrid tbody').on('click', 'tr', function () {
                var rowData = table.row(this).data();
                if ($(this).hasClass('selected')) {
                    $(this).removeClass('selected');
                    $('#actions').hide();
                } else {
                    table.$('tr.selected').removeClass('selected');
                    $(this).addClass('selected');
                    $('#actions').show();
                    updateButtonLinks(rowData.id);
                }
            });
        });
    </script>
}
